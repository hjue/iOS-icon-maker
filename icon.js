/** * *	iPad: *	- Retina: 144px *	- Non-retina: 72px *	- Spotlight: 48px * *	iPhone/iPod: *	- Retina: 114px *	- Non-retina: 57px *	- Retina spotlight, store: 58px * *  iTunes store: *  - 1024px * *  iOS settings, spotlight: *  - 29px * *  iOS document: *  - 64px *  - 320px * * *  @source: developer.apple.com/library/ios/#documentation/userexperience/conceptual/mobilehig/IconsImages/IconsImages.html */$.level = 2; // debug// varsvar sizes = [144, 72, 48, 114, 57, 58, 1024, 29, 64, 320],	doc = app.activeDocument,	doc_height = parse(doc.height),	doc_width = parse(doc.width),	max_size = 0,	size_count = sizes.length,	saved_sizes = [];// sort sizes from smallest to largestsizes.sort(function (a,b) { return a > b });// get largest sizemax_size = sizes[size_count - 1];// check for proper starting document sizeif (doc_width < max_size || doc_height < max_size) {	throw new Error('Expected document to be [' + max_size + 'px × ' + max_size + 'px], given [' + doc_width + 'px × ' + doc_height + 'px]');}// save 'emwhile (size_count--) {	var size = sizes[size_count];	// resize	doc.resizeImage(size, size);	// Save for Web options	opts = new ExportOptionsSaveForWeb();	opts.format = SaveDocumentType.PNG;	opts.PNG8 = false;	// Save it	file = new File(doc.path + '/' + size + '.png');	doc.exportDocument(file, ExportType.SAVEFORWEB, opts);	saved_sizes.push(size);}alert('Done! Generated app icons for ' + saved_sizes.join(', '));// helpersfunction parse (string) {	return parseInt(string, 10);}